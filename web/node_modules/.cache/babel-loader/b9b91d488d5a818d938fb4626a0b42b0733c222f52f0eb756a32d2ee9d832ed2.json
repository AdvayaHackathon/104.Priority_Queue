{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\madhu\\\\OneDrive\\\\Documents\\\\bgs\\\\104.Priority_Queue\\\\web\\\\src\\\\pages\\\\patient\\\\NewCheckup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Send, Upload, ChevronLeft, Clock, Clipboard, FilePlus } from \"lucide-react\";\nimport BackButton from \"../../components/shared/BackButton\";\n\n// Your Gemini API key should be in .env file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GEMINI_API_KEY = process.env.REACT_APP_GEMINI_API_KEY || \"AIzaSyDIj_BIwaYHQoNKDkZxdf1IZ3KtMS5lk2Y\";\nconst NewCheckup = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [chatMessages, setChatMessages] = useState([{\n    role: \"assistant\",\n    content: \"Hello! I'm your AI assistant. How can I help you with this checkup?\"\n  }]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [prescriptionNotes, setPrescriptionNotes] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const chatContainerRef = useRef(null);\n\n  // Auto-scroll to bottom of chat\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [chatMessages]);\n\n  // Function to call Gemini API\n  const callGeminiAPI = async message => {\n    setIsLoading(true);\n    try {\n      var _responseData$candida, _responseData$candida2, _responseData$candida3;\n      const generationConfig = {\n        temperature: 1,\n        topP: 0.95,\n        topK: 40,\n        maxOutputTokens: 8192\n      };\n\n      // Start with the system prompt and include chat history\n      const chatHistory = chatMessages.filter(msg => msg.role !== \"system\").map(msg => ({\n        role: msg.role === \"assistant\" ? \"model\" : \"user\",\n        parts: [{\n          text: msg.content\n        }]\n      }));\n\n      // Add the new message\n      chatHistory.push({\n        role: \"user\",\n        parts: [{\n          text: message\n        }]\n      });\n      const data = {\n        generationConfig,\n        contents: chatHistory,\n        systemInstruction: {\n          role: \"user\",\n          parts: [{\n            text: 'You are a clinical assistant chatbot designed to process and converse about prescriptions provided by doctors. When a prescription is given to you in plain text: Identify and extract key details such as: Drug names Dosage Frequency Duration Special instructions (e.g., \"after food\", \"at bedtime\") Respond by: Summarizing the prescription clearly Asking for clarification if any important detail is missing or ambiguous Gently flagging potential concerns (e.g., duplicate medications, uncommon dosages) Optional (if patient history is provided): Mention possible drug interactions or allergy conflicts Suggest safer or standard alternatives (only if applicable) You must not use Markdown or formatting styles such as asterisks, bullet points, or headings in your response. Always use plain text with clear sentence structure. Maintain a professional, helpful, and non-alarming tone. Always defer medical authority to the doctor. Do not make definitive clinical decisions. Your purpose is to act as a thinking assistant — helping review, understand, and talk through prescriptions with care and intelligence.'\n          }]\n        }\n      };\n      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent?key=${GEMINI_API_KEY}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      });\n      const responseData = await response.json();\n      if (responseData.candidates && (_responseData$candida = responseData.candidates[0]) !== null && _responseData$candida !== void 0 && (_responseData$candida2 = _responseData$candida.content) !== null && _responseData$candida2 !== void 0 && (_responseData$candida3 = _responseData$candida2.parts[0]) !== null && _responseData$candida3 !== void 0 && _responseData$candida3.text) {\n        return responseData.candidates[0].content.parts[0].text;\n      } else {\n        console.error(\"Unexpected API response:\", responseData);\n        return \"I'm sorry, I couldn't process that request. Please try again.\";\n      }\n    } catch (error) {\n      console.error(\"Error calling Gemini API:\", error);\n      return \"I apologize, but I encountered an error. Please try again later.\";\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to handle sending the initial prescription\n  const handleSharePrescription = async () => {\n    if (!prescriptionNotes.trim()) {\n      alert(\"Please enter prescription details first.\");\n      return;\n    }\n    setIsLoading(true);\n\n    // Prepare the message with prescription notes\n    const message = `Prescription:\\n\\n${prescriptionNotes}`;\n\n    // Add user message to chat\n    setChatMessages(prev => [...prev, {\n      role: \"user\",\n      content: message\n    }]);\n\n    // Get AI response\n    const aiResponse = await callGeminiAPI(message);\n\n    // Add AI response to chat\n    setChatMessages(prev => [...prev, {\n      role: \"assistant\",\n      content: aiResponse\n    }]);\n    setIsLoading(false);\n  };\n\n  // Function to handle sending a message\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!inputMessage.trim() || isLoading) return;\n\n    // Add user message to chat\n    setChatMessages(prev => [...prev, {\n      role: \"user\",\n      content: inputMessage\n    }]);\n\n    // Clear input field\n    const messageToBeSent = inputMessage;\n    setInputMessage(\"\");\n\n    // Get AI response\n    const aiResponse = await callGeminiAPI(messageToBeSent);\n\n    // Add AI response to chat\n    setChatMessages(prev => [...prev, {\n      role: \"assistant\",\n      content: aiResponse\n    }]);\n  };\n\n  // Function to handle uploading prescription\n  const handleUploadPrescription = () => {\n    console.log(\"Uploading prescription:\", prescriptionNotes);\n    alert(\"Prescription uploaded successfully!\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-6 py-4 flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate(-1),\n            className: \"mr-3 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n              className: \"w-5 h-5 text-gray-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-800\",\n              children: \"New Checkup Session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Patient ID: \", id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container mx-auto px-6 py-8 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-20 left-10 w-64 h-64 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-40 right-10 w-72 h-72 bg-indigo-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-8 left-20 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-6 relative z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/2 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-purple-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-gray-200 flex-shrink-0 bg-gradient-to-r from-purple-600 to-indigo-700\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), \"AI Assistant\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatContainerRef,\n            className: \"flex-1 overflow-y-auto p-4 space-y-4 h-[500px]\",\n            children: [chatMessages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-[80%] rounded-xl shadow px-4 py-3 ${message.role === \"user\" ? \"bg-gradient-to-r from-purple-600 to-indigo-700 text-white\" : \"bg-white border border-gray-200 text-gray-800\"}`,\n                children: message.role === \"assistant\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"markdown\",\n                  children: message.content.split(/(\\*\\*.*?\\*\\*)/).map((part, i) => {\n                    if (part.startsWith(\"**\") && part.endsWith(\"**\")) {\n                      return /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: part.slice(2, -2)\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 36\n                      }, this);\n                    }\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: part\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 34\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this) : message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-start\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-w-[80%] rounded-xl px-4 py-3 bg-white border border-gray-200 shadow\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 w-2 bg-purple-400 rounded-full animate-bounce\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 w-2 bg-purple-500 rounded-full animate-bounce\",\n                    style: {\n                      animationDelay: \"0.2s\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 w-2 bg-purple-600 rounded-full animate-bounce\",\n                    style: {\n                      animationDelay: \"0.4s\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"p-4 border-t border-gray-200 flex-shrink-0 bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: inputMessage,\n                onChange: e => setInputMessage(e.target.value),\n                placeholder: \"Type your message...\",\n                className: \"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500\",\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: `px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white rounded-xl shadow-md transition-all ${isLoading ? \"opacity-50 cursor-not-allowed\" : \"hover:from-purple-700 hover:to-indigo-800 hover:shadow-lg\"}`,\n                disabled: isLoading,\n                children: /*#__PURE__*/_jsxDEV(Send, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/2 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-purple-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-gray-200 flex-shrink-0 bg-gradient-to-r from-purple-600 to-indigo-700\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Clipboard, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), \"Prescription Notes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 p-4 overflow-hidden h-[400px]\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: prescriptionNotes,\n              onChange: e => setPrescriptionNotes(e.target.value),\n              placeholder: \"Type your prescription notes here...\",\n              className: \"w-full h-full p-4 border border-gray-300 rounded-xl resize-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 overflow-y-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-t border-gray-200 flex-shrink-0 bg-gray-50 space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSharePrescription,\n              className: \"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl shadow-md hover:from-green-600 hover:to-emerald-700 hover:shadow-xl transition-all flex items-center justify-center\",\n              disabled: isLoading || !prescriptionNotes.trim(),\n              children: [/*#__PURE__*/_jsxDEV(Send, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), \"Share with AI Assistant\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUploadPrescription,\n              className: \"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white rounded-xl shadow-md hover:from-purple-700 hover:to-indigo-800 hover:shadow-xl transition-all flex items-center justify-center\",\n              disabled: isLoading || !prescriptionNotes.trim(),\n              children: [/*#__PURE__*/_jsxDEV(FilePlus, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), \"Upload Prescription\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(NewCheckup, \"d6+bTju8r+i7MwYrnNPxa4fB/Bg=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = NewCheckup;\nexport default NewCheckup;\nvar _c;\n$RefreshReg$(_c, \"NewCheckup\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","Send","Upload","ChevronLeft","Clock","Clipboard","FilePlus","BackButton","jsxDEV","_jsxDEV","GEMINI_API_KEY","process","env","REACT_APP_GEMINI_API_KEY","NewCheckup","_s","id","navigate","chatMessages","setChatMessages","role","content","inputMessage","setInputMessage","prescriptionNotes","setPrescriptionNotes","isLoading","setIsLoading","chatContainerRef","current","scrollTop","scrollHeight","callGeminiAPI","message","_responseData$candida","_responseData$candida2","_responseData$candida3","generationConfig","temperature","topP","topK","maxOutputTokens","chatHistory","filter","msg","map","parts","text","push","data","contents","systemInstruction","response","fetch","method","headers","body","JSON","stringify","responseData","json","candidates","console","error","handleSharePrescription","trim","alert","prev","aiResponse","handleSendMessage","e","preventDefault","messageToBeSent","handleUploadPrescription","log","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","index","split","part","i","startsWith","endsWith","slice","style","animationDelay","onSubmit","type","value","onChange","target","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/madhu/OneDrive/Documents/bgs/104.Priority_Queue/web/src/pages/patient/NewCheckup.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Send, Upload, ChevronLeft, Clock, Clipboard, FilePlus } from \"lucide-react\";\r\nimport BackButton from \"../../components/shared/BackButton\";\r\n\r\n// Your Gemini API key should be in .env file\r\nconst GEMINI_API_KEY = process.env.REACT_APP_GEMINI_API_KEY || \"AIzaSyDIj_BIwaYHQoNKDkZxdf1IZ3KtMS5lk2Y\";\r\n\r\nconst NewCheckup = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [chatMessages, setChatMessages] = useState([\r\n    {\r\n      role: \"assistant\",\r\n      content: \"Hello! I'm your AI assistant. How can I help you with this checkup?\",\r\n    },\r\n  ]);\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const [prescriptionNotes, setPrescriptionNotes] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const chatContainerRef = useRef(null);\r\n\r\n  // Auto-scroll to bottom of chat\r\n  useEffect(() => {\r\n    if (chatContainerRef.current) {\r\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\r\n    }\r\n  }, [chatMessages]);\r\n\r\n  // Function to call Gemini API\r\n  const callGeminiAPI = async (message) => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const generationConfig = {\r\n        temperature: 1,\r\n        topP: 0.95,\r\n        topK: 40,\r\n        maxOutputTokens: 8192,\r\n      };\r\n\r\n      // Start with the system prompt and include chat history\r\n      const chatHistory = chatMessages\r\n        .filter((msg) => msg.role !== \"system\")\r\n        .map((msg) => ({\r\n          role: msg.role === \"assistant\" ? \"model\" : \"user\",\r\n          parts: [{ text: msg.content }],\r\n        }));\r\n\r\n      // Add the new message\r\n      chatHistory.push({\r\n        role: \"user\",\r\n        parts: [{ text: message }],\r\n      });\r\n\r\n      const data = {\r\n        generationConfig,\r\n        contents: chatHistory,\r\n        systemInstruction: {\r\n          role: \"user\",\r\n          parts: [\r\n            {\r\n              text: 'You are a clinical assistant chatbot designed to process and converse about prescriptions provided by doctors. When a prescription is given to you in plain text: Identify and extract key details such as: Drug names Dosage Frequency Duration Special instructions (e.g., \"after food\", \"at bedtime\") Respond by: Summarizing the prescription clearly Asking for clarification if any important detail is missing or ambiguous Gently flagging potential concerns (e.g., duplicate medications, uncommon dosages) Optional (if patient history is provided): Mention possible drug interactions or allergy conflicts Suggest safer or standard alternatives (only if applicable) You must not use Markdown or formatting styles such as asterisks, bullet points, or headings in your response. Always use plain text with clear sentence structure. Maintain a professional, helpful, and non-alarming tone. Always defer medical authority to the doctor. Do not make definitive clinical decisions. Your purpose is to act as a thinking assistant — helping review, understand, and talk through prescriptions with care and intelligence.',\r\n            },\r\n          ],\r\n        },\r\n      };\r\n\r\n      const response = await fetch(\r\n        `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent?key=${GEMINI_API_KEY}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(data),\r\n        }\r\n      );\r\n\r\n      const responseData = await response.json();\r\n\r\n      if (responseData.candidates && responseData.candidates[0]?.content?.parts[0]?.text) {\r\n        return responseData.candidates[0].content.parts[0].text;\r\n      } else {\r\n        console.error(\"Unexpected API response:\", responseData);\r\n        return \"I'm sorry, I couldn't process that request. Please try again.\";\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error calling Gemini API:\", error);\r\n      return \"I apologize, but I encountered an error. Please try again later.\";\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Function to handle sending the initial prescription\r\n  const handleSharePrescription = async () => {\r\n    if (!prescriptionNotes.trim()) {\r\n      alert(\"Please enter prescription details first.\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    // Prepare the message with prescription notes\r\n    const message = `Prescription:\\n\\n${prescriptionNotes}`;\r\n\r\n    // Add user message to chat\r\n    setChatMessages((prev) => [...prev, { role: \"user\", content: message }]);\r\n\r\n    // Get AI response\r\n    const aiResponse = await callGeminiAPI(message);\r\n\r\n    // Add AI response to chat\r\n    setChatMessages((prev) => [...prev, { role: \"assistant\", content: aiResponse }]);\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  // Function to handle sending a message\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    // Add user message to chat\r\n    setChatMessages((prev) => [...prev, { role: \"user\", content: inputMessage }]);\r\n\r\n    // Clear input field\r\n    const messageToBeSent = inputMessage;\r\n    setInputMessage(\"\");\r\n\r\n    // Get AI response\r\n    const aiResponse = await callGeminiAPI(messageToBeSent);\r\n\r\n    // Add AI response to chat\r\n    setChatMessages((prev) => [...prev, { role: \"assistant\", content: aiResponse }]);\r\n  };\r\n\r\n  // Function to handle uploading prescription\r\n  const handleUploadPrescription = () => {\r\n    console.log(\"Uploading prescription:\", prescriptionNotes);\r\n    alert(\"Prescription uploaded successfully!\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100\">\r\n      {/* Header - Updated to match WelcomePag.js style */}\r\n      <div className=\"bg-white shadow-md\">\r\n        <div className=\"container mx-auto px-6 py-4 flex items-center\">\r\n          <div className=\"flex items-center\">\r\n            <button\r\n              onClick={() => navigate(-1)}\r\n              className=\"mr-3 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors\"\r\n            >\r\n              <ChevronLeft className=\"w-5 h-5 text-gray-600\" />\r\n            </button>\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-800\">New Checkup Session</h2>\r\n              <p className=\"text-sm text-gray-600\">Patient ID: {id}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content - Updated with decorative elements from WelcomePag.js */}\r\n      <section className=\"container mx-auto px-6 py-8 relative\">\r\n        {/* Decorative elements like in WelcomePag.js */}\r\n        <div className=\"absolute top-20 left-10 w-64 h-64 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob\"></div>\r\n        <div className=\"absolute top-40 right-10 w-72 h-72 bg-indigo-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000\"></div>\r\n        <div className=\"absolute -bottom-8 left-20 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000\"></div>\r\n\r\n        <div className=\"flex flex-col md:flex-row gap-6 relative z-10\">\r\n          {/* Left Half - Chat Interface */}\r\n          <div className=\"w-full md:w-1/2 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-purple-100\">\r\n            <div className=\"p-4 border-b border-gray-200 flex-shrink-0 bg-gradient-to-r from-purple-600 to-indigo-700\">\r\n              <h3 className=\"text-lg font-semibold text-white flex items-center\">\r\n                <Clock className=\"w-5 h-5 mr-2\" />\r\n                AI Assistant\r\n              </h3>\r\n            </div>\r\n\r\n            {/* Scrollable Chat Area */}\r\n            <div ref={chatContainerRef} className=\"flex-1 overflow-y-auto p-4 space-y-4 h-[500px]\">\r\n              {chatMessages.map((message, index) => (\r\n                <div\r\n                  key={index}\r\n                  className={`flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}\r\n                >\r\n                  <div\r\n                    className={`max-w-[80%] rounded-xl shadow px-4 py-3 ${\r\n                      message.role === \"user\"\r\n                        ? \"bg-gradient-to-r from-purple-600 to-indigo-700 text-white\"\r\n                        : \"bg-white border border-gray-200 text-gray-800\"\r\n                    }`}\r\n                  >\r\n                    {message.role === \"assistant\" ? (\r\n                      <div className=\"markdown\">\r\n                        {/* Basic formatting for bold text */}\r\n                        {message.content.split(/(\\*\\*.*?\\*\\*)/).map((part, i) => {\r\n                          if (part.startsWith(\"**\") && part.endsWith(\"**\")) {\r\n                            return <strong key={i}>{part.slice(2, -2)}</strong>;\r\n                          }\r\n                          return <span key={i}>{part}</span>;\r\n                        })}\r\n                      </div>\r\n                    ) : (\r\n                      message.content\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {isLoading && (\r\n                <div className=\"flex justify-start\">\r\n                  <div className=\"max-w-[80%] rounded-xl px-4 py-3 bg-white border border-gray-200 shadow\">\r\n                    <div className=\"flex space-x-2\">\r\n                      <div className=\"h-2 w-2 bg-purple-400 rounded-full animate-bounce\"></div>\r\n                      <div\r\n                        className=\"h-2 w-2 bg-purple-500 rounded-full animate-bounce\"\r\n                        style={{ animationDelay: \"0.2s\" }}\r\n                      ></div>\r\n                      <div\r\n                        className=\"h-2 w-2 bg-purple-600 rounded-full animate-bounce\"\r\n                        style={{ animationDelay: \"0.4s\" }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Message Input Form - Fixed at bottom */}\r\n            <form\r\n              onSubmit={handleSendMessage}\r\n              className=\"p-4 border-t border-gray-200 flex-shrink-0 bg-gray-50\"\r\n            >\r\n              <div className=\"flex space-x-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={inputMessage}\r\n                  onChange={(e) => setInputMessage(e.target.value)}\r\n                  placeholder=\"Type your message...\"\r\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\r\n                  disabled={isLoading}\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  className={`px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white rounded-xl shadow-md transition-all ${\r\n                    isLoading\r\n                      ? \"opacity-50 cursor-not-allowed\"\r\n                      : \"hover:from-purple-700 hover:to-indigo-800 hover:shadow-lg\"\r\n                  }`}\r\n                  disabled={isLoading}\r\n                >\r\n                  <Send className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          {/* Right Half - Prescription Editor */}\r\n          <div className=\"w-full md:w-1/2 flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-purple-100\">\r\n            <div className=\"p-4 border-b border-gray-200 flex-shrink-0 bg-gradient-to-r from-purple-600 to-indigo-700\">\r\n              <h3 className=\"text-lg font-semibold text-white flex items-center\">\r\n                <Clipboard className=\"w-5 h-5 mr-2\" />\r\n                Prescription Notes\r\n              </h3>\r\n            </div>\r\n\r\n            {/* Scrollable Prescription Area */}\r\n            <div className=\"flex-1 p-4 overflow-hidden h-[400px]\">\r\n              <textarea\r\n                value={prescriptionNotes}\r\n                onChange={(e) => setPrescriptionNotes(e.target.value)}\r\n                placeholder=\"Type your prescription notes here...\"\r\n                className=\"w-full h-full p-4 border border-gray-300 rounded-xl resize-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 overflow-y-auto\"\r\n              />\r\n            </div>\r\n\r\n            {/* Action Buttons - Fixed at bottom */}\r\n            <div className=\"p-4 border-t border-gray-200 flex-shrink-0 bg-gray-50 space-y-3\">\r\n              <button\r\n                onClick={handleSharePrescription}\r\n                className=\"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl shadow-md hover:from-green-600 hover:to-emerald-700 hover:shadow-xl transition-all flex items-center justify-center\"\r\n                disabled={isLoading || !prescriptionNotes.trim()}\r\n              >\r\n                <Send className=\"w-5 h-5 mr-2\" />\r\n                Share with AI Assistant\r\n              </button>\r\n\r\n              <button\r\n                onClick={handleUploadPrescription}\r\n                className=\"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white rounded-xl shadow-md hover:from-purple-700 hover:to-indigo-800 hover:shadow-xl transition-all flex items-center justify-center\"\r\n                disabled={isLoading || !prescriptionNotes.trim()}\r\n              >\r\n                <FilePlus className=\"w-5 h-5 mr-2\" />\r\n                Upload Prescription\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewCheckup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}